!function(e){function t(a){if(n[a])return n[a].exports;var l=n[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var a=n(2),l=(n.n(a),n(3)),r=(n.n(l),n(4)),__=wp.i18n.__,o=wp.blocks.registerBlockType,i=wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 32 32"},wp.element.createElement("path",{d:"M30.667,14.939c0,8.25-6.74,14.938-15.056,14.938c-2.639,0-5.118-0.675-7.276-1.857L0,30.667l2.717-8.017   c-1.37-2.25-2.159-4.892-2.159-7.712C0.559,6.688,7.297,0,15.613,0C23.928,0.002,30.667,6.689,30.667,14.939z M15.61,2.382   c-6.979,0-12.656,5.634-12.656,12.56c0,2.748,0.896,5.292,2.411,7.362l-1.58,4.663l4.862-1.545c2,1.312,4.393,2.076,6.963,2.076   c6.979,0,12.658-5.633,12.658-12.559C28.27,8.016,22.59,2.382,15.61,2.382z M23.214,18.38c-0.094-0.151-0.34-0.243-0.708-0.427   c-0.367-0.184-2.184-1.069-2.521-1.189c-0.34-0.123-0.586-0.185-0.832,0.182c-0.243,0.367-0.951,1.191-1.168,1.437   c-0.215,0.245-0.43,0.276-0.799,0.095c-0.369-0.186-1.559-0.57-2.969-1.817c-1.097-0.972-1.838-2.169-2.052-2.536   c-0.217-0.366-0.022-0.564,0.161-0.746c0.165-0.165,0.369-0.428,0.554-0.643c0.185-0.213,0.246-0.364,0.369-0.609   c0.121-0.245,0.06-0.458-0.031-0.643c-0.092-0.184-0.829-1.984-1.138-2.717c-0.307-0.732-0.614-0.611-0.83-0.611   c-0.215,0-0.461-0.03-0.707-0.03S9.897,8.215,9.56,8.582s-1.291,1.252-1.291,3.054c0,1.804,1.321,3.543,1.506,3.787   c0.186,0.243,2.554,4.062,6.305,5.528c3.753,1.465,3.753,0.976,4.429,0.914c0.678-0.062,2.184-0.885,2.49-1.739   C23.307,19.268,23.307,18.533,23.214,18.38z",fill:"currentColor"}));o("ninjateam/nta-whatsapp",{title:__("WhatsApp Button"),icon:i,category:"widgets",keywords:[__("ninjateam"),__("whatsapp"),__("nta"),__("wa")],edit:r.a,save:function(e){return wp.element.createElement("div",null)},example:{attributes:{isSelectedAccount:"-1",phoneNumber:"",imageID:0,imageUrl:"",buttonStyle:"round",buttonColor:"#2DB742",buttonTitle:"John Doe",buttonInfo:"Need Help? Chat with us",textColor:"#fff",preview:!0}}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=(n(5),n(6)),r=function(){function e(e,t){var n=[],_n=!0,a=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(_n=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);_n=!0);}catch(e){a=!0,l=e}finally{try{!_n&&o.return&&o.return()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=wp.components,i=o.PanelBody,c=o.SelectControl,m=o.RadioControl,u=wp.blockEditor,s=u.InspectorControls,p=u.PanelColorSettings,w=wp.element,d=w.useEffect,f=w.useRef,g=w.useState,_=w.Fragment,b=wp.data.withSelect,__=wp.i18n.__,v=window,h=v.njtwa,y=wp.components.__experimentalInputControl,E=function(e){var t=e.attributes,n=e.setAttributes,o=(e.className,e.isSelected,e.postList),u=f(null),w=g({buttonName:"",metaInfo:{},metaStyle:{}}),b=r(w,2),v=b[0],E=b[1],C=g(!1),x=r(C,2),S=x[0],j=x[1];d(function(){-1!=t.isSelectedAccount&&(j(!0),jQuery.ajax({url:ajaxurl,type:"POST",data:{action:"njt_wa_get_account",id:t.isSelectedAccount,nonce:h.nonce}}).done(function(e){j(!1),E(Object.assign({},e))}))},[t.isSelectedAccount]),d(function(){u.current&&(u.current.style.height=u.current.scrollHeight+"px")},[u]);var N=[{name:"Coral",slug:"coral",color:"#cd2653"},{name:"Lavender",slug:"lavender",color:"#000000"},{name:"White",slug:"white",color:"#6d6d6d"},{name:"White",slug:"white",color:"#dcd7ca"},{name:"White",slug:"white",color:"#f5efe0"}],k="round"==t.buttonStyle?"wa__r_button":"wa__sq_button",I=t.imageUrl?"wa__btn_w_img":"wa__btn_w_icon",A={backgroundImage:"url("+t.imageUrl+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},D=t.imageUrl?wp.element.createElement("div",{className:"wa__cs_img"},wp.element.createElement("div",{className:"wa__cs_img_wrap",style:A})):wp.element.createElement("div",{className:"wa__btn_icon"},wp.element.createElement("img",{alt:"img",src:h.avatarDefaultUrl})),U={color:t.textColor&&"#fff"!=t.textColor&&"#ffffff"!=t.textColor?t.textColor:"#d5f0d9",background:"transparent",border:"none",outline:"none",opacity:t.textColor&&"#fff"!=t.textColor&&"#ffffff"!=t.textColor?1:.8},O=t.buttonTitle?wp.element.createElement("div",{className:"wa__cs_info"},wp.element.createElement("div",{className:"wa__cs_name",style:{color:t.textColor}},wp.element.createElement("input",{style:U,onChange:function(e){return n({buttonTitle:e.target.value})},value:t.buttonTitle}))):null,T=t.buttonTitle?"":"wa__button_text_only",B={background:"transparent",border:"none",color:t.textColor?t.textColor:"#fff",outline:"none",resize:"none",overflow:"hidden",padding:0,boxShadow:"none"},R=wp.element.createElement(s,null,wp.element.createElement(i,{title:__("Select Account","ninjateam-whatsapp")},wp.element.createElement(c,{label:__("Choose your account from list:","ninjateam-whatsapp"),value:t.isSelectedAccount,options:function(){var e=[{label:__("Custom Button","ninjateam-whatsapp"),value:-1}];if(o){var t=o.map(function(e){return{label:e.title.raw,value:e.id}});e=[].concat(a(e),a(t))}return e}(),onChange:function(e){return n({isSelectedAccount:e})}}),-1==t.isSelectedAccount?wp.element.createElement(_,null,wp.element.createElement(y,{label:__("Enter your phone number:","ninjateam-whatsapp"),value:t.phoneNumber,onChange:function(e){return n({phoneNumber:e})}})):null),-1==t.isSelectedAccount?wp.element.createElement(_,null,wp.element.createElement(i,{initialOpen:!1,title:__("Avatar (PRO)","ninjateam-whatsapp")}),wp.element.createElement(i,{initialOpen:!1,title:__("Button Style","ninjateam-whatsapp")},wp.element.createElement(m,{label:"Button Shape",selected:t.buttonStyle,options:[{label:__("Round","ninjateam-whatsapp"),value:"round"},{label:__("Square","ninjateam-whatsapp"),value:"square"}],onChange:function(e){n({buttonStyle:e})}})),wp.element.createElement(p,{initialOpen:!1,title:__("Button Color","ninjateam-whatsapp"),colorSettings:[{colors:N,value:t.buttonColor,label:__("Background Color","ninjateam-whatsapp"),onChange:function(e){return n({buttonColor:e})}},{colors:N,value:t.textColor,label:__("Text Color","ninjateam-whatsapp"),onChange:function(e){return n({textColor:e})}}]})):null);return wp.element.createElement(_,null,t.preview?wp.element.createElement("div",{style:{padding:"10px"}},wp.element.createElement("img",{src:h.gutenbergPreview,alt:"preview"})):-1!=t.isSelectedAccount?wp.element.createElement(l.a,{attributes:v,loading:S}):wp.element.createElement("div",null,wp.element.createElement("a",{href:"#",className:"wa__button wa__stt_online "+k+" "+I+" "+T,style:{backgroundColor:t.buttonColor,color:t.textColor}},D,wp.element.createElement("div",{className:"wa__btn_txt"},O,wp.element.createElement("div",{className:"wa__btn_title"},wp.element.createElement("textarea",{rows:1,ref:u,style:B,onChange:function(e){e.target.style.height="15px",e.target.style.height=e.target.scrollHeight+"px",n({buttonInfo:e.target.value})},value:t.buttonInfo}))))),R)};t.a=b(function(e,t){return{postList:e("core").getEntityRecords("postType","whatsapp-accounts",{per_page:-1})}})(E)},function(e,t,n){"use strict";var a=wp.blockEditor,l=a.MediaUpload,r=a.MediaUploadCheck,o=wp.components,i=o.ResponsiveWrapper,c=o.Button,m=o.Spinner,u=wp.data.withSelect,__=wp.i18n.__,s=function(e){var t=e.attributes,n=e.setAttributes,a=e.media,o=function(){n({imageID:"",imageUrl:"",imageAlt:"img"})},u=function(e){n({imageID:e.id,imageUrl:e.url,imageAlt:e.alt_text})};return wp.element.createElement("div",{className:"editor-post-featured-image"},wp.element.createElement(r,null,wp.element.createElement(l,{onSelect:u,value:t.imageID,allowedTypes:["image"],render:function(e){var n=e.open;return wp.element.createElement(c,{style:{position:"relative",height:a?"auto":36},className:0==t.imageID?"wa-blocks editor-post-featured-image__toggle":"wa-blocks editor-post-featured-image__preview",onClick:n},0==t.imageID&&__("Choose an image","ninjateam-whatsapp"),t.imageID&&!a&&wp.element.createElement(m,null),void 0!=a&&wp.element.createElement(i,{naturalWidth:a.media_details.width,naturalHeight:a.media_details.height},wp.element.createElement("img",{src:a.source_url,alt:a.alt_text})))}})),0!=t.imageID&&wp.element.createElement(r,null,wp.element.createElement(l,{title:__("Replace image","ninjateam-whatsapp"),value:t.imageID,onSelect:u,allowedTypes:["image"],render:function(e){var t=e.open;return wp.element.createElement(c,{onClick:t,isDefault:!0,isLarge:!0},__("Replace image","ninjateam-whatsapp"))}})),0!=t.imageID&&wp.element.createElement(r,null,wp.element.createElement(c,{onClick:o,isLink:!0,isDestructive:!0},__("Remove image","ninjateam-whatsapp"))))};u(function(e,t){return{media:t.attributes.imageID?e("core").getMedia(t.attributes.imageID):void 0}})(s)},function(e,t,n){"use strict";var a=wp.components.Spinner,__=wp.i18n.__,l=function(e){var t=e.attributes,n=e.loading,l="round"==t.metaStyle.type?"wa__r_button":"wa__sq_button",r=t.imageUrl?"wa__btn_w_img":"wa__btn_w_icon",o={backgroundImage:"url("+t.imageUrl+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},i=t.imageUrl?wp.element.createElement("div",{className:"wa__cs_img"},wp.element.createElement("div",{className:"wa__cs_img_wrap",style:o})):wp.element.createElement("div",{className:"wa__btn_icon"},wp.element.createElement("img",{alt:"img",src:njtwa.avatarDefaultUrl})),c={color:"#fff"==t.metaStyle.textColor||"#ffffff"==t.metaStyle.textColor?"#d5f0d9":t.metaStyle.textColor,opacity:"#fff"==t.metaStyle.textColor||"#ffffff"==t.metaStyle.textColor?1:.8},m=t.metaInfo.title?wp.element.createElement("div",{className:"wa__cs_info"},wp.element.createElement("div",{className:"wa__cs_name",style:c},t.metaInfo.title),wp.element.createElement("div",{className:"wa__cs_status"},__("Online","ninjateam-whatsapp"))):null;return n?wp.element.createElement("div",{className:"components-disabled"},wp.element.createElement("div",{className:"components-placeholder is-large"},wp.element.createElement(a,null))):wp.element.createElement("div",{className:"wa__button "+l+" wa__stt_online "+r,style:{backgroundColor:t.metaStyle.backgroundColor}},i,wp.element.createElement("div",{className:"wa__btn_txt"},m,wp.element.createElement("div",{className:"wa__btn_title",style:{color:t.metaStyle.textColor}},t.metaStyle.label),null))};t.a=l}]);